<?xml version="1.0" encoding="utf-8"?>
<mx:Panel xmlns:mx="http://www.adobe.com/2006/mxml"
	
	layout="absolute"
	width="300"
	height="220"

	cornerRadius="0"
	borderColor="#999999"
	borderAlpha="1"

	backgroundColor="#999999"
	backgroundAlpha="1"
	
	color="#ffffff"
	fontWeight="bold"

	modalTransparencyBlur="0"
	modalTransparencyDuration="0"
	
	themeColor="haloSilver"
>

 <mx:Script>
 	<![CDATA[
 		import org.glomaker.shared.properties.StringProperty;
 	
 		import mx.core.UIComponent;
 		import mx.managers.PopUpManager;

	 	public static function show(parent:UIComponent, property:StringProperty, title:String = "Enter Feedback"):Feedback
	 	{
	 		var instance:Feedback = PopUpManager.createPopUp(parent, Feedback, true) as Feedback;
	 		instance.relatedProp = property;
	 		instance.title = title;

	 		PopUpManager.centerPopUp(instance);
	 		
	 		return instance;
		}
		
		protected var _relatedProp:StringProperty;
		
		public function set relatedProp(value:StringProperty):void
		{
			_relatedProp = value;
			textArea.text = _relatedProp.propValue;
		}
		public function get relatedProp():StringProperty
		{
			return _relatedProp;
		}
 	
	 	public function clickOK(evt:Event):void
	 	{
	 		relatedProp.propValue = textArea.text;
	 		PopUpManager.removePopUp(this);
	 	}
	 	
	 	public function clickCancel(evt:Event = null):void
	 	{
	 		PopUpManager.removePopUp(this);
	 	}
 		
 	]]>
 </mx:Script>
 	
 
 <mx:TextArea
 	id="textArea"
 	width="100%"
 	height="100%"
 	themeColor="#333333"
 	focusThickness="1"
 	dropShadowEnabled="false"
 	color="#000000"
 	fontWeight="normal"/>
 	
 <mx:ControlBar>
 	 <mx:Spacer width="100%"/>
     <mx:Button id="ok" label="OK" click="clickOK(event)"/>
     <mx:Button id="cancel" label="Cancel" click="clickCancel(event)"/>
 </mx:ControlBar>
 
</mx:Panel>
