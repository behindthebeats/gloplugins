<?xml version="1.0" encoding="utf-8"?>
<mx:Application xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" 
	xmlns:mediaLoader="org.glomaker.plugin.mediaLoader.*" 
	xmlns:plugin="org.glomaker.plugin.*" 
	xmlns:medialoaders="org.glomaker.plugin.medialoaders.*" 
	xmlns:textloaders="org.glomaker.plugin.textloaders.*"
	xmlns:buttonclicker="org.glomaker.plugin.buttonclicker.*" 
	xmlns:swirl="org.glomaker.stage.swirl.*"
	xmlns:swfloader="org.glomaker.plugin.swfloader.*" 
	xmlns:textarea="org.glomaker.plugin.textarea.*" 
	xmlns:mcq="org.glomaker.plugin.mcq.*" 
	xmlns:videoplayer="org.glomaker.plugin.videoplayer.*" 
	xmlns:rectangle="org.glomaker.plugin.rectangle.*" 
	xmlns:londonmet="org.glomaker.stage.londonmet.*" 
	xmlns:wordassembly="org.glomaker.plugin.wordassembly.*">
	
	<mx:Script>
		<![CDATA[
			
			import org.glomaker.shared.component.optimisation.PluginOptimiser;
			import org.glomaker.plugin.imagemagnifier.ImageMagnifierPlugin;
			import testing.DummyApplication;
			import org.glomaker.plugin.mcq.MultipleChoiceQuestionPlugin;
			import org.glomaker.shared.component.interfaces.IComponentPlugin;

			private var _dummyApp:DummyApplication;
			private var _optimization:Object = PluginOptimiser;
			private var _isEditState:Boolean = false;
			
			protected function init():void
			{
				// initialise dummy app.
//				 _dummyApp = new DummyApplication(quiz.child as IComponentPlugin, this);
				//_dummyApp = new DummyApplication(rte as IComponentPlugin, this);
				
			}
			
			
			protected function onToggleViewState(evt:MouseEvent):void
			{
				//_dummyApp = new DummyApplication(rte.child as IComponentPlugin, this);
				//(quiz.child as MultipleChoiceQuestionPlugin).toggleState();
				_isEditState = !_isEditState;
				plugin.setEditMode(_isEditState);
			}
		]]>
	</mx:Script>
	
	<mx:Style source="GLO_styles.css" />
	
	<mx:VBox width="100%" height="100%">
		<mx:Button label="Toggle" click="onToggleViewState(event)"/>
		<wordassembly:WordAssemblyPlugin width="100%" height="60%" id="plugin"/>
	</mx:VBox>

	<swirl:SwirlNavBar/>

</mx:Application>